#!/bin/sh

# Function to get the current audio level and mute status using pactl
get_audio_info() {
    pactl list sinks | awk '/^[[:space:]]Volume:/{print $5; exit}' | tr -d '%'
}

# Function to check if the audio is muted
is_muted() {
    pactl list sinks | awk '/^[[:space:]]Mute:/{print $2; exit}'
}

# Get the current audio level and mute status
current_info=$(get_audio_info)
current_muted=$(is_muted)

# Determine audio level icon based on the current_info value
if [ "$current_muted" == "yes" ]; then
    icon="ðŸ”‡"  # Muted icon
else
    if [ "$current_info" -eq "0" ]; then
        icon="ðŸ”ˆ"  # No bars icon for 0%
    elif [ "$current_info" -le "50" ]; then
        icon="ðŸ”‰"  # One bar icon for 1-50%
    else
        icon="ðŸ”Š"  # Default icon for 50-100%
    fi
fi

# Display the current information
echo "$icon $current_info%"
